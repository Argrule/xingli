{"version":3,"sources":["uni-app:///main.js",null,"webpack:///F:/huawu_c/xingli/pages/personalMain/personalMain.vue?329e","webpack:///F:/huawu_c/xingli/pages/personalMain/personalMain.vue?a63f","webpack:///F:/huawu_c/xingli/pages/personalMain/personalMain.vue?5c6e","uni-app:///pages/personalMain/personalMain.vue","webpack:///F:/huawu_c/xingli/pages/personalMain/personalMain.vue?835e","webpack:///F:/huawu_c/xingli/pages/personalMain/personalMain.vue?1f93"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,kH,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAymB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyQ7nB,gD;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,sBAFA;AAGA,qBAHA,EAGA;AACA;AACA,sBALA;AAMA;AACA,iHAPA;AAQA;AACA;AACA,6BAVA;AAWA,2BAXA;;AAaA;AACA,uBAdA;AAeA;AACA,kBAhBA;AAiBA,sBAjBA;AAkBA,uCAlBA;AAmBA,gBAnBA;AAoBA;AACA,kBArBA;AAsBA,kBAtBA;AAuBA;AACA,mBAxBA;;AA0BA,GA5BA;AA6BA;AACA,kFADA;AAEA,0DAFA,CA7BA;;AAiCA;AACA,wBADA,EAjCA;;AAoCA,mBApCA,+BAoCA;AACA;AACA;AACA;AACA,KAFA,EAEA,GAFA;AAGA,GAzCA;AA0CA,SA1CA,qBA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBArBA;;AAuBA;AACA;AACA,GA/EA;AAgFA;AACA,0EADA;AAEA;AACA,sBAHA,oCAGA;AACA;AACA;AACA,gDAHA;AAIA,4DAJA,8CAIA,GAJA,wBAIA,IAJA;AAKA;AACA,sDANA;AAOA,KAVA;AAWA;AACA,qBAZA,+BAYA;AACA;AACA,KAdA;AAeA;AACA,eAhBA,yBAgBA;AACA;AACA,KAlBA;AAmBA;AACA,sBApBA,8BAoBA,SApBA,EAoBA;AACA;AACA,+BADA;;AAGA;AAJA,0CAKA;AACA,iCADA,GALA,8CAKA,GALA,wBAKA,IALA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBANA,EAMA,IANA,EAbA;AAoBA,KAxCA;;AA0CA;AACA,mBA3CA,6BA2CA;AACA,kDADA,gDACA,UADA,yBACA,IADA;AAEA;AACA,8DAHA;AAIA,KA/CA;AAgDA;AACA,qBAjDA,+BAiDA;AACA;AACA,iCADA,GADA,gDACA,cADA,yBACA,IADA;;AAIA;AACA;AACA,yDANA;AAOA,KAxDA;AAyDA;AACA,eA1DA,yBA0DA;AACA,6CADA,gDACA,GADA,yBACA,IADA;AAEA;AACA,2CAHA;AAIA,KA9DA;;AAgEA;AACA,4BAjEA,sCAiEA;AACA,gCADA;AAEA;AACA;AAHA,0CAIA,uBAJA;AAKA;AACA;AACA;AACA,iBAFA,EAEA,GAFA,EANA;AASA,KA1EA;AA2EA;AACA,+BA5EA,yCA4EA;AACA;AACA,KA9EA;AA+EA,kBA/EA,4BA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtFA;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cA3GA,wBA2GA;AACA;AACA;AACA,KA9GA;AA+GA,eA/GA,8BA+GA;AACA;AACA;AACA;AACA;AACA,KApHA;AAqHA;AACA,2BAtHA,qCAsHA;AACA;AACA,KAxHA;AAyHA;AACA,kBA1HA,4BA0HA;AACA;AACA;AACA,qEADA;;AAGA,KA/HA;AAgIA;AACA,mBAjIA,6BAiIA;AACA;AACA;AACA,KApIA;AAqIA;AACA,gBAtIA,wBAsIA,IAtIA,EAsIA;AACA;AACA;AACA;AACA,KA1IA;AA2IA;AACA,mBA5IA,6BA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBArBA;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnLA;AAoLA;AACA,gBArLA,0BAqLA;AACA,4CADA;AAEA,yCAFA;AAGA,uCAHA;;AAKA;AACA;AACA,6DAPA;;AASA,iCATA;;AAWA;AACA,sCADA;AAEA,gDAFA;AAGA,0CAHA,GAXA,gDAWA,GAXA,yBAWA,IAXA;;AAgBA;AACA;AACA;AACA;AACA;AACA,iDArBA;;;AAwBA;AACA,gDADA;AAEA,0CAFA,GAxBA,iDAwBA,IAxBA,yBAwBA,IAxBA;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAnCA;;AAqCA,KA1NA,GAhFA,E;;;;;;;;;;;;;AC1QA;AAAA;AAAA;AAAA;AAA4oC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACAhqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/personalMain/personalMain.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/personalMain/personalMain.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./personalMain.vue?vue&type=template&id=674418a6&scoped=true&\"\nvar renderjs\nimport script from \"./personalMain.vue?vue&type=script&lang=js&\"\nexport * from \"./personalMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./personalMain.vue?vue&type=style&index=0&id=674418a6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"674418a6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/personalMain/personalMain.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personalMain.vue?vue&type=template&id=674418a6&scoped=true&\"","var components\ntry {\n  components = {\n    uActionSheet: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    \"u-Textarea\": function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.dairyShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personalMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personalMain.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <!-- 选择心情弹窗 -->\n    <u-action-sheet\n      :actions=\"[\n        {\n          name: '开心',\n        },\n        {\n          name: '一般',\n        },\n        {\n          name: '难过',\n        },\n      ]\"\n      @select=\"selectClick\"\n      :show=\"showMoodSelect\"\n    ></u-action-sheet>\n    <!-- 右弹窗 -->\n    <menuBoard ref=\"menuBoard\"></menuBoard>\n    <!-- dairy内容 -->\n     <!-- <u-transition :show=\"show\" mode=\"zoom-in\">\n        <view class=\"transition\"></view>\n    </u-transition> -->\n    <u-modal\n      :show=\"dairyShow\"\n      :closeOnClickOverlay=\"true\"\n      :zoom=\"true\"\n      @close=\"dairyShow = false\"\n      :showConfirmButton=\"false\"\n    >\n      <view\n        class=\"slot-content\"\n        style=\"\n          white-space: normal;\n          word-break: break-all;\n          overflow: hidden;\n          font-size: 35rpx;\n          font-weight: 600;\n        \"\n      >\n        {{ dairyContent }}\n      </view>\n    </u-modal>\n    <!-- 头像部分 -->\n    <view class=\"content\">\n      <view class=\"person\">\n        <view class=\"avatar\">\n          <u-avatar size=\"60\" :src=\"avatarUrl\" shape=\"circle\"></u-avatar>\n        </view>\n        <view class=\"nickName\">\n          <view style=\"display: flex\">\n            <view>{{ userName }}</view>\n            <view v-if=\"gender\"\n              ><u-icon name=\"man\" color=\"#2979ff\" size=\"28\"></u-icon\n            ></view>\n            <view v-else\n              ><u-icon name=\"woman\" color=\"rgb(231, 94, 155)\" size=\"28\"></u-icon\n            ></view>\n          </view>\n          <view> ID: {{ userId }} </view>\n        </view>\n        <view class=\"list-icon\">\n          <!-- 打开右弹窗 -->\n          <view style=\"position: relative; top: 10%\">\n            <u-icon\n              @click=\"rightDialogList\"\n              name=\"list-dot\"\n              color=\"#DC8C6B\"\n              size=\"20\"\n            ></u-icon>\n          </view>\n          <view style=\"position: relative; bottom: 10%\">\n            <u-icon\n              @click=\"changePersonal\"\n              name=\"arrow-right\"\n              color=\"#DC8C6B\"\n              size=\"20\"\n            ></u-icon>\n          </view>\n        </view>\n      </view>\n      <!-- 防塌陷 -->\n      <view class=\"empty\"></view>\n    </view>\n    <!-- mood-dairy部分 -->\n    <view class=\"mood-dairy\">\n      <!-- dairy头部 -->\n      <view class=\"flexMood\">\n        <!-- 左侧框 -->\n        <view class=\"mood-font\">\n          <u-icon name=\"edit-pen\" color=\"#DC8C6B\" size=\"25\"></u-icon>\n          <view class=\"mood-word\"> MOOD DAIRY </view>\n        </view>\n        <!-- 右侧日期 -->\n        <view class=\"dateTime\">{{ todaydateTime }}</view>\n      </view>\n      <!-- dairy内容 -->\n      <view class=\"dairyDetail\" v-if=\"isDairyDetailEdit\">\n        <!-- 编辑图标 -->\n        <view class=\"dairyDetailEdit\">\n          <u-icon\n            @click=\"changeIsDairyDetailEdit\"\n            name=\"edit-pen-fill\"\n            color=\"#DC8C6B\"\n            size=\"28\"\n          ></u-icon>\n        </view>\n        <!-- 列表 -->\n        <scroll-view\n          scroll-y=\"true\"\n          style=\"height: calc(28vh)\"\n          scroll-top=\"0\"\n          @scrolltolower=\"scrolltolowerUpdateDiary\"\n        >\n          <view v-for=\"(item, i) in moodList\" :key=\"i\">\n            <view class=\"mood-list\" @click=\"getTheDairyContent(item)\">\n              <view class=\"mood-word\">{{ item.date }}</view>\n              <view v-if=\"item.mood == 0\">\n                <uni-icons\n                  custom-prefix=\"iconfont\"\n                  type=\"icon-mood\"\n                  size=\"20\"\n                ></uni-icons>\n              </view>\n              <view v-else-if=\"item.mood == 1\">\n                <uni-icons\n                  custom-prefix=\"iconfont\"\n                  type=\"icon-xinqingyiban-yuan\"\n                  size=\"18\"\n                ></uni-icons>\n              </view>\n              <view v-else-if=\"item.mood == 2\">\n                <uni-icons\n                  custom-prefix=\"iconfont\"\n                  type=\"icon-mood-bad\"\n                  size=\"20\"\n                ></uni-icons>\n              </view>\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n      <view v-else>\n        <!-- 返回按钮 -->\n        <view class=\"dairyDetailEditReturn\">\n          <!-- 返回 -->\n          <uni-icons\n            type=\"undo\"\n            @click=\"changeIsDairyDetailEdit\"\n            color=\"#DC8C6B\"\n            size=\"20\"\n          ></uni-icons>\n          <!-- 提交mood -->\n          <view style=\"margin-left: 50rpx\" @click=\"putMoodToday\"\n            ><u-icon name=\"checkbox-mark\" color=\"#DC8C6B\" size=\"20\"></u-icon\n          ></view>\n          <view style=\"margin-left: 350rpx\" @click=\"selectMood\">\n            <view v-if=\"todayMood == 0\">\n              <uni-icons\n                custom-prefix=\"iconfont\"\n                color=\"#DC8C6B\"\n                type=\"icon-mood\"\n                size=\"20\"\n              ></uni-icons>\n            </view>\n            <view v-else-if=\"todayMood == 1\">\n              <uni-icons\n                custom-prefix=\"iconfont\"\n                color=\"#DC8C6B\"\n                type=\"icon-xinqingyiban-yuan\"\n                size=\"18\"\n              ></uni-icons>\n            </view>\n            <view v-else-if=\"todayMood == 2\">\n              <uni-icons\n                custom-prefix=\"iconfont\"\n                color=\"#DC8C6B\"\n                type=\"icon-mood-bad\"\n                size=\"20\"\n              ></uni-icons>\n            </view>\n          </view>\n        </view>\n        <view class=\"\">\n          <u--textarea\n            v-model=\"todayMessage\"\n            placeholder=\"记录此刻心情......\"\n            border=\"none\"\n          ></u--textarea>\n        </view>\n      </view>\n    </view>\n    <!-- to-do-list部分 -->\n    <view class=\"to-do-list\">\n      <!-- to-do-list头部 -->\n      <view class=\"toDoListHead\">\n        <!-- 左侧框 -->\n        <view class=\"mood-font\">\n          <u-icon name=\"calendar\" color=\"#DC8C6B\" size=\"25\"></u-icon>\n          <view class=\"mood-word\"> TO-DO-LIST </view>\n        </view>\n      </view>\n      <view class=\"dairyDetail\">\n        <!-- 列表 -->\n        <scroll-view\n          scroll-y=\"true\"\n          style=\"height: calc(28vh)\"\n          scroll-top=\"0\"\n          @scrolltolower=\"scrolltolowerUpdateTodoList\"\n        >\n          <view v-for=\"(item, i) in toDoList\" :key=\"i\">\n            <view class=\"todo-list\">\n              <view v-if=\"item.finish == 0\">\n                <uni-icons\n                  type=\"circle\"\n                  @click=\"changeFinish(item)\"\n                  color=\"#DC8C6B\"\n                  size=\"20\"\n                ></uni-icons>\n              </view>\n              <view v-else>\n                <uni-icons\n                  type=\"checkbox-filled\"\n                  @click=\"changeFinish(item)\"\n                  color=\"#DC8C6B\"\n                  size=\"20\"\n                ></uni-icons>\n              </view>\n              <view\n                :class=\"[item.finish == 0 ? 'mood-word' : 'mood-word-finish']\"\n                >{{ item.todo }}</view\n              >\n            </view>\n          </view>\n        </scroll-view>\n        <view class=\"dairyDetailEdit\"\n          ><u-icon\n            name=\"plus-circle\"\n            color=\"#DC8C6B\"\n            size=\"28\"\n            @click=\"inputDialogToggle\"\n          ></u-icon>\n          <!-- 填写今日todolist的弹窗 -->\n          <uni-popup ref=\"inputDialog\" type=\"dialog\">\n            <uni-popup-dialog\n              ref=\"inputClose\"\n              mode=\"input\"\n              title=\"填写今日to-do-list\"\n              :value=\"todayTodo\"\n              @close=\"dialogClose\"\n              placeholder=\"写下你的待办吧\"\n              @confirm=\"dialogInputConfirm\"\n            ></uni-popup-dialog>\n          </uni-popup>\n        </view>\n      </view>\n    </view>\n    <!-- 占位，防塌陷 -->\n    <view class=\"empty\"></view>\n  </view>\n</template>\n\n<script>\nimport menuBoard from \"../menu/menu.vue\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      // 节流阀\n      isloading: false,\n      diaryThePage: 1, //当前页\n      // 展示dairy文字内容\n      dairyShow: false,\n      dairyContent:\n        \"// 展示dairy文字内容\\nhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhggggggggggggggggggggggggggggggggggggg\",\n      // toDoThePage:1,//当前页\n      // 导航切换\n      isDairyDetailEdit: true,\n      showMoodSelect: false,\n\n      // 今日是否提交过Mood\n      is_putMood: false,\n      // 提交Mood的内容\n      todayMood: 0,\n      todayMessage: \"\",\n      todaydateTime: \"2022/9/22 Sunday\",\n      todayId: 0,\n      // 列表\n      moodList: [],\n      toDoList: [],\n      // 添加的今日todoList\n      todayTodo: \"\",\n    };\n  },\n  computed: {\n    ...mapState(\"m_personal\", [\"userId\", \"userName\", \"gender\", \"avatarUrl\"]),\n    ...mapState(\"m_page\", [\"diaryPage\", \"todoPage\"]),\n  },\n  components: {\n    menuBoard,\n  },\n  onPullDownRefresh() {\n    console.log(\"onPullDownRefresh\");\n    setTimeout(function () {\n      uni.stopPullDownRefresh();\n    }, 500);\n  },\n  created() {\n    this.getMoodListPage();\n    this.getMoodListDetail();\n    this.getTodoList();\n    // this.todaydateTime=;\n    {\n      let thetime = new Date();\n      let y = thetime.getFullYear().toString();\n      // padStart格式两位补0\n      let mt = (thetime.getMonth() + 1).toString().padStart(2, \"0\");\n      let day = thetime.getDate().toString().padStart(2, \"0\");\n      let week = thetime.getDay().toString();\n      switch (week) {\n        case \"1\":\n          week = \"Mon\";\n          break;\n        case \"2\":\n          week = \"Tue\";\n          break;\n        case \"3\":\n          week = \"Wed\";\n          break;\n        case \"4\":\n          week = \"Thr\";\n          break;\n        case \"5\":\n          week = \"Fri\";\n          break;\n        case \"6\":\n          week = \"Sat\";\n          break;\n        default:\n          week = \"Sun\";\n          break;\n      }\n      this.todaydateTime = y + \"/\" + mt + \"/\" + day + \" \" + week;\n    }\n  },\n  methods: {\n    ...mapMutations(\"m_page\", [\"changeDiaryPage\", \"changeTodoPage\"]),\n    // 获取点击的dairy文字内容\n    async getTheDairyContent({id:theId}) {\n      this.dairyShow = true;\n      console.log(\"// 获取点击的dairy文字内容\");\n      console.log('the id is',theId);\n      const {data:res} =await uni.$http.get('/tdmd/mood',{id:theId});\n      console.log('the dairy content is',res);\n      this.dairyContent = res.data.message;\n    },\n    // 打开input todo\n    inputDialogToggle() {\n      this.$refs.inputDialog.open();\n    },\n    // 取消input todo\n    dialogClose() {\n      console.log(\"点击关闭\");\n    },\n    // 提交Input todo\n    async dialogInputConfirm(input_val) {\n      uni.showLoading({\n        title: \"填写成功\",\n      });\n      // console.log(this.todayTodo);//this.todayTodo无效\n      const { data: res } = await uni.$http.put(\"/tdmd/todo\", {\n        todo: input_val,\n      });\n      console.log(\"todoToday\", res);\n      // 重新获取todoList列表\n      // console.log('// 重新获取todoList列表');\n      this.getTodoList();\n      // 关加载动画\n      setTimeout(() => {\n        uni.hideLoading();\n        // console.log(val);\n        this.todayTodo = input_val;\n        // 关闭窗口后，恢复默认内容\n        this.$refs.inputDialog.close();\n      }, 1000);\n    },\n\n    // 获取diary页数\n    async getMoodListPage() {\n      const { data: pageResult } = await uni.$http.get(\"/tdmd/moodPages\");\n      // console.log(\"pageResult\", pageResult);\n      this.changeDiaryPage(pageResult.data.pages);\n    },\n    // 获取diary list第一页\n    async getMoodListDetail(thePage = 1) {\n      const { data: moodListResult } = await uni.$http.get(\"/tdmd/moods\", {\n        page: thePage,\n      });\n      // console.log(\"pageResult\", moodListResult);\n      this.moodList = [...this.moodList, ...moodListResult.data];\n      console.log(\"moodlist\", this.moodList);\n    },\n    // 获取todo list\n    async getTodoList() {\n      const { data: res } = await uni.$http.get(\"/tdmd/todo\");\n      console.log(\"hh\", res.data);\n      this.toDoList = res.data;\n    },\n\n    // 触底请求第二页diary\n    async scrolltolowerUpdateDiary() {\n      if (this.isloading) return;\n      this.isloading = true;\n      // 请求下一页\n      await this.getInsertDiary();\n      // 解除节流\n      setTimeout(() => {\n        this.isloading = false;\n      }, 100);\n    },\n    // todolist不做分页，后续可能会改进\n    scrolltolowerUpdateTodoList() {\n      console.log(\"pulldown todolist\");\n    },\n    getInsertDiary() {\n      console.log(\"scrolltolowerUpdateDiary\");\n      console.log(this.diaryPage);\n      // 页数超过了，不请求\n      if (this.diaryThePage >= this.diaryPage) return;\n      this.getMoodListDetail(++this.diaryThePage);\n      console.log(this.diaryPage);\n    },\n    // getInsertTodo(){\n    //   console.log('getInsertTodo');\n    //   console.log(this.diaryPage);\n    //   // 页数超过了，不请求\n    //   if (this.diaryThePage>=this.diaryPage) return;\n    //   this.getMoodListDetail(++this.diaryThePage);\n    //   console.log(this.diaryPage);\n    // },\n    // 触底请求第二页todoList\n    // async scrolltolowerUpdateTodoList(){\n    //   if (this.isloading) return;\n    //   this.isloading=true;\n    //   // 请求下一页\n    //   await this.getInsertTodo();\n    //   // 解除节流\n    //   setTimeout(()=>{\n    //     this.isloading=false;\n    //   },3000)\n    // },\n    // 选择表情\n    selectMood() {\n      console.log(\"// 选择表情\");\n      this.showMoodSelect = true;\n    },\n    selectClick({ name }) {\n      this.todayMood = name == \"开心\" ? 0 : name == \"一般\" ? 1 : 2;\n      console.log(\"你选择的心情为\", this.todayMood);\n      // console.log('index is:',name);\n      this.showMoodSelect = false;\n    },\n    // 导航切换\n    changeIsDairyDetailEdit() {\n      this.isDairyDetailEdit = !this.isDairyDetailEdit;\n    },\n    // 修改个人信息页面\n    changePersonal() {\n      console.log(\"changePersonal\");\n      uni.navigateTo({\n        url: \"/pages/changePersonInformation/changePersonInformation\",\n      });\n    },\n    // 打开右弹窗菜单\n    rightDialogList() {\n      console.log(\"rightDialogList\");\n      this.$refs.menuBoard.menuShow = true;\n    },\n    // 修改to-do-list完成状态\n    changeFinish(item) {\n      console.log(\"item\", item);\n      // 只是视觉上改，需要发请求改\n      item.finish = item.finish == 0 ? 1 : 0;\n    },\n    // 判断是否是今天第一次发put请求\n    isPutMoodBefore() {\n      // 依赖bug运行，后续一定要完善\n      let thetime = new Date();\n      console.log(\"the time is :\", thetime);\n      let y = thetime.getFullYear().toString();\n      // padStart格式两位补0\n      let mt = (thetime.getMonth() + 1).toString().padStart(2, \"0\");\n      let day = thetime.getDate().toString().padStart(2, \"0\");\n      let week = thetime.getDay().toString();\n      switch (week) {\n        case \"1\":\n          week = \"Mon\";\n          break;\n        case \"2\":\n          week = \"Tue\";\n          break;\n        case \"3\":\n          week = \"Wed\";\n          break;\n        case \"4\":\n          week = \"Thr\";\n          break;\n        case \"5\":\n          week = \"Fri\";\n          break;\n        case \"6\":\n          week = \"Sat\";\n          break;\n        default:\n          week = \"Sun\";\n          break;\n      }\n      let formDateTime = y + \"/\" + mt + \"/\" + day + \" \" + week;\n      console.log(\"formDateTime\", formDateTime);\n      console.log(formDateTime == this.moodList[0].date);\n      this.todayId = this.moodList[0].id;\n      console.log(\"today id\", this.todayId);\n      // 返回值\n      return formDateTime == this.moodList[0].date;\n    },\n    // put今日mood\n    async putMoodToday() {\n      console.log(\"putMoodToday\");\n      if (this.todayMessage == \"\") {\n        return uni.$showMsg(\"请填写今日心情\");\n      }\n      // 调用判断函数，接收返回值\n      this.is_putMood = this.isPutMoodBefore();\n      console.log(\"is_putMood\", this.is_putMood);\n\n      if (this.is_putMood) {\n        // 非第一次，只能修改\n        const { data: res } = await uni.$http.post(\"/tdmd/mood\", {\n          id: this.todayId,\n          message: this.todayMessage,\n          mood: this.todayMood,\n        });\n        console.log(\"mood\", res);\n        // 重新获取\n        this.moodList = [];\n        this.getMoodListDetail();\n        // 完成后返回\n        this.changeIsDairyDetailEdit();\n      } else {\n        // 第一次，put\n        const { data: res } = await uni.$http.put(\"/tdmd/mood\", {\n          message: this.todayMessage,\n          mood: this.todayMood,\n        });\n        console.log(\"mood\", res);\n        // 重新获取\n        this.moodList = [];\n        this.getMoodListDetail();\n        // 改状态\n        this.is_putMood = true;\n        // 完成后返回\n        this.changeIsDairyDetailEdit();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\npage {\n  background: #f8f8f8;\n  letter-spacing: 1px;\n}\n.content {\n  background-color: #f6b4a6;\n}\n.avatar {\n  margin: 80rpx 60rpx 30rpx 90rpx;\n  // position: relative;\n  // left: 10%;\n}\n.empty {\n  margin: 10rpx;\n  height: 10rpx;\n}\n.nickName {\n  margin-top: 60rpx;\n  font-family: \"Times New Roman\", Times, serif;\n  font-weight: 600;\n  color: rgba(32, 41, 41, 0.76);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n}\n.list-icon {\n  position: relative;\n  left: 30%;\n  // margin-top: 60rpx;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n// mood列表\n.mood-list {\n  display: flex;\n  justify-content: space-between;\n  border-radius: 10rpx;\n  width: 90%;\n  margin: 20rpx 20rpx;\n  padding: 8rpx 12rpx;\n  background-color: #f8e8e1;\n}\n// todo列表\n.todo-list {\n  display: flex;\n  justify-content: stretch;\n  // align-items: center;\n  border-radius: 10rpx;\n  width: 90%;\n  margin: 20rpx 20rpx;\n  padding: 8rpx 12rpx;\n  background-color: #f8e8e1;\n}\n.person {\n  display: flex;\n}\n.mood-dairy {\n  // 子绝父相\n  position: relative;\n  height: calc(35vh);\n  background: #fff;\n  margin: 50rpx 40rpx;\n  padding: 15rpx;\n  border-radius: 25rpx;\n  box-shadow: // 2px 0px 8px rgb(109, 109, 109),  /*右边阴影*/\n    0px 2px 8px rgb(109, 109, 109); /*下边阴影*/\n}\n.flexMood {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.toDoListHead {\n  display: flex;\n  justify-content: start;\n  // 对齐\n  margin-left: 20rpx;\n}\n.mood-font {\n  display: flex;\n  border-radius: 10rpx;\n  width: 300rpx;\n  background-color: rgb(240, 240, 240);\n}\n.mood-word {\n  color: #dc8c6b;\n  font-size: 35rpx;\n  font-weight: 300;\n}\n// 中划线效果\n.mood-word-finish {\n  color: #dc8c6b;\n  font-size: 35rpx;\n  font-weight: 300;\n  text-decoration: line-through;\n}\n.dateTime {\n  color: #dc8c6b;\n  font-size: 30rpx;\n  font-weight: 300;\n  // position: absolute;\n  // right: 6%;\n  // top: 20rpx;\n}\n.dairyDetail {\n  margin: 5rpx 0;\n  font-size: 30rpx;\n}\n.dairyDetailEdit {\n  position: absolute;\n  bottom: 5%;\n  right: 5%;\n  z-index: 1;\n}\n.dairyDetailEditReturn {\n  display: flex;\n  position: absolute;\n  bottom: 10%;\n  left: 5%;\n}\n.to-do-list {\n  // 子绝父相\n  position: relative;\n  font-size: 30rpx;\n  height: calc(35vh);\n  background: #fff;\n  margin: 50rpx 40rpx;\n  padding: 15rpx;\n  border-radius: 25rpx;\n  box-shadow: 0px 2px 8px rgb(109, 109, 109);\n}\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personalMain.vue?vue&type=style&index=0&id=674418a6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personalMain.vue?vue&type=style&index=0&id=674418a6&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666258760022\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}