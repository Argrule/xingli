{"version":3,"sources":["uni-app:///main.js","webpack:///F:/huawu_c/xingli/pages/changePersonInformation/changePersonInformation.vue?8745","webpack:///F:/huawu_c/xingli/pages/changePersonInformation/changePersonInformation.vue?1882","webpack:///F:/huawu_c/xingli/pages/changePersonInformation/changePersonInformation.vue?196f","webpack:///F:/huawu_c/xingli/pages/changePersonInformation/changePersonInformation.vue?5fe3","uni-app:///pages/changePersonInformation/changePersonInformation.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,mJ,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,gCAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAgJ;AAChJ;AAC2E;AACL;;;AAGtE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,6FAAM;AACR,EAAE,8GAAM;AACR,EAAE,uHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAonB,CAAgB,ioBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqExoB,gD;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,0BAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,kBALA;;AAOA,GATA;AAUA;AACA;AACA,aADA;AAEA,UAFA;AAGA,YAHA;AAIA,UAJA;AAKA,SALA,EADA,CAVA;;;AAmBA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,eAHA,EADA;;AAMA;AACA,eAPA,6BAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAdA;AAeA;AACA,eAhBA,yBAgBA;AACA;AACA,KAlBA;AAmBA;AACA,sBApBA,8BAoBA,SApBA,EAoBA;AACA;AACA;AACA;AACA,KAxBA;AAyBA;AACA,qBA1BA,6BA0BA,SA1BA,EA0BA;AACA;AACA;AACA;AACA,KA9BA;AA+BA;AACA,qBAhCA,+BAgCA;AACA;AACA,KAlCA;AAmCA;AACA,qBApCA,+BAoCA;AACA;AACA,KAtCA;AAuCA;AACA,iBAxCA,yBAwCA,SAxCA,EAwCA;AACA,uBADA,GACA;AACA,sCADA,EADA;;AAIA,mBAJA;AAKA,iBALA;;;;;;AAWA,iBAXA;;;AAcA,iBAdA,8BAMA,eANA,8DAOA,sBAPA,SASA,6BATA,2CAYA,2BAZA;AAeA,iDAfA;AAgBA,sCAhBA;;AAkBA,0CAlBA;;;AAqBA,uDArBA,gDAqBA,GArBA,yBAqBA,IArBA;AAsBA,6CAtBA;AAuBA,mCAvBA;AAwBA,mBAxBA;AAyBA,iBAzBA;;;AA4BA,iBA5BA;;;AA+BA,iBA/BA,yBA0BA,gCA1BA,4CA6BA,8BA7BA;AAgCA,6CAhCA;;;;AAoCA,KA5EA,GAnBA,E","file":"pages/changePersonInformation/changePersonInformation.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/changePersonInformation/changePersonInformation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./changePersonInformation.vue?vue&type=template&id=89ec76d4&scoped=true&\"\nvar renderjs\nimport script from \"./changePersonInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./changePersonInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89ec76d4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/changePersonInformation/changePersonInformation.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePersonInformation.vue?vue&type=template&id=89ec76d4&scoped=true&\"","var components\ntry {\n  components = {\n    uCellGroup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uni_modules/uview-ui/components/u-cell-group/u-cell-group.vue\"\n      )\n    },\n    uCell: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uActionSheet: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showSexSelect = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showSexSelect = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePersonInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePersonInformation.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <u-cell-group>\n      <u-cell\n        title=\"头像\"\n        isLink\n        url=\"/pages/changePersonInformation/changeAvatarUrl\"\n      >\n        <view slot=\"value\">\n          <u-avatar size=\"60\" :src=\"avatarUrl\" shape=\"circle\"></u-avatar>\n        </view>\n      </u-cell>\n      <u-cell title=\"昵称\" isLink @click=\"inputDialogToggle\">\n        <view slot=\"value\">\n          {{ userName }}\n        </view>\n      </u-cell>\n      <u-cell title=\"性别\" isLink @click=\"showSexSelect = true\">\n        <view slot=\"value\">\n          {{ gender == 1 ? \"男\" : \"女\" }}\n        </view>\n      </u-cell>\n      <u-cell title=\"邮箱\" isLink @click=\"emailDialogToggle\">\n        <view slot=\"value\">\n          {{ email }}\n        </view>\n      </u-cell>\n    </u-cell-group>\n    <!-- 选择性别弹窗 -->\n    <u-action-sheet\n      :actions=\"[\n        {\n          name: '男',\n        },\n        {\n          name: '女',\n        },\n      ]\"\n      @select=\"selectClick\"\n      :closeOnClickOverlay=\"true\"\n      @close=\"showSexSelect = false\"\n      :show=\"showSexSelect\"\n    ></u-action-sheet>\n    <!-- 填写昵称 -->\n    <uni-popup ref=\"inputNickName\" type=\"dialog\">\n      <uni-popup-dialog\n        ref=\"inputClose\"\n        mode=\"input\"\n        title=\"填写昵称\"\n        :value=\"nickName\"\n        @close=\"dialogClose\"\n        @confirm=\"dialogInputConfirm\"\n      ></uni-popup-dialog>\n    </uni-popup>\n    <!-- 填写邮箱 -->\n    <uni-popup ref=\"inputEmailName\" type=\"dialog\">\n      <uni-popup-dialog\n        ref=\"inputClose\"\n        mode=\"input\"\n        title=\"填写邮箱\"\n        :value=\"theEmail\"\n        @close=\"dialogClose\"\n        @confirm=\"emailInputConfirm\"\n      ></uni-popup-dialog>\n    </uni-popup>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      // 选择性别弹窗\n      showSexSelect: false,\n      theGender: 1,\n      nickName: \"\",\n      theEmail: \"\",\n    };\n  },\n  computed: {\n    ...mapState(\"m_personal\", [\n      \"avatarUrl\",\n      \"userId\",\n      \"userName\",\n      \"gender\",\n      \"email\",\n    ]),\n  },\n  methods: {\n    ...mapMutations(\"m_personal\", [\n      \"changeGender\",\n      \"changeUserName\",\n      \"changeEmail\",\n    ]),\n    // 选择性别后触发\n    selectClick({ name }) {\n      this.theGender = name == \"男\" ? 1 : 0;\n      console.log(\"你选择的性别为\", this.gender);\n      // console.log('index is:',name);\n      this.showSexSelect = false;\n      // 修改性别\n      this.putPersonInfo(this.theGender, 1);\n    },\n    // 取消\n    dialogClose() {\n      console.log(\"dialogClose,取消就不发请求\");\n    },\n    // 提交nickName\n    dialogInputConfirm(str_value) {\n      console.log(\"dialogInputConfirm\");\n      // 修改昵称\n      this.putPersonInfo(str_value);\n    },\n    // 提交email\n    emailInputConfirm(str_value) {\n      console.log(\"emailInputConfirm\");\n      // 修改email\n      this.putPersonInfo(str_value, 2);\n    },\n    // 打开input nickName\n    inputDialogToggle() {\n      this.$refs.inputNickName.open();\n    },\n    // 打开input email弹窗\n    emailDialogToggle() {\n      this.$refs.inputEmailName.open();\n    },\n    // 各种修改信息put\n    async putPersonInfo(str_value, key = 0) {\n      let putInfo = {\n        userId: this.userId,\n      };\n      switch (key) {\n        case 0:\n          if (str_value == \"\") {\n            return uni.$showMsg(\"名字不能为空\");\n          }\n          putInfo.userName = str_value;\n          break;\n        case 1:\n          putInfo.gender = str_value;\n          break;\n        case 2:\n          if (!/[\\w\\W]+@[\\w\\W]+/.test(str_value)) {\n            return uni.$showMsg(\"邮箱格式错误\");\n          }\n          putInfo.email = str_value;\n          break;\n      }\n      const { data: res } = await uni.$http.post(\"/user/info\", putInfo);\n      console.log(\"put info\", res);\n      if (res.code == \"00000\") {\n        switch (key) {\n          case 0:\n            this.changeUserName(str_value);\n            break;\n          case 1:\n            this.changeGender(str_value);\n            break;\n          case 2:\n            this.changeEmail(str_value);\n            break;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"],"sourceRoot":""}